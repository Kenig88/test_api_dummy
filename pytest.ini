[pytest]
# Где pytest будет искать тесты (папка/папки с тестами)
testpaths = tests

# Добавляем корень проекта (текущую папку) в PYTHONPATH,
# чтобы импорты типа "from app.module import ..." работали без установки пакета
pythonpath = .

# Опции, которые будут применяться к каждому запуску pytest по умолчанию
addopts =
    -ra              # показывать в конце краткую сводку по skipped/xfail/xpass и др.
    --tb=short       # короткий traceback (меньше шума в выводе при падениях)
    --strict-markers # запрещает неописанные маркеры (ловит опечатки в @pytest.mark.*)

# Описание маркеров, которые можно использовать в тестах:
# @pytest.mark.smoke / @pytest.mark.regression / @pytest.mark.negative
markers =
    smoke: critical smoke tests            # быстрые "дымовые" проверки самого важного
    regression: full regression suite      # полный регрессионный прогон
    negative: negative/error handling tests # проверки ошибок и нештатных сценариев
